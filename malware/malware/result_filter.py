import os
import copy

SAVE_DIR = 'E:/result_total_filter.json'

fopen = open('result_total.json','r')
dict = eval(fopen.read())

file_name = {}

def update(DIR):
    files = os.listdir(DIR)
    for file in files:
        file_md5 = file.split('.')[0]
        file_name[file_md5] = 1

update('E:\malware_part1_unzip_rename')
update('E:\malware_part2_unzip_rename_tmp')

dict2 = copy.deepcopy(dict)
for key in dict2:
    if not key in file_name:
        dict.pop(key)

count = 0
for key in dict:
    count = count + 1

print('count', count)

fwrite = open(SAVE_DIR, 'w')
fwrite.write(str(dict))
fwrite.close()